!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){"use strict";function n(){function t(t,e){return e=e||5,s(a({lat:t[1],lon:t[0]}),e)}function e(t){var e=i(v(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function r(t){var e=i(v(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function n(t){return t*(Math.PI/180)}function o(t){return 180*(t/Math.PI)}function a(t){var e=t.lat,r=t.lon,o=6378137,a=.00669438,i=.9996,s=void 0,h=void 0,u=void 0,f=void 0,v=void 0,l=void 0,d=void 0,M=n(e),b=n(r),g=void 0,p=void 0;p=Math.floor((r+180)/6)+1,180===r&&(p=60),e>=56&&e<64&&r>=3&&r<12&&(p=32),e>=72&&e<84&&(r>=0&&r<9?p=31:r>=9&&r<21?p=33:r>=21&&r<33?p=35:r>=33&&r<42&&(p=37)),s=6*(p-1)-180+3,g=n(s),h=a/(1-a),u=o/Math.sqrt(1-a*Math.sin(M)*Math.sin(M)),f=Math.tan(M)*Math.tan(M),v=h*Math.cos(M)*Math.cos(M),l=Math.cos(M)*(b-g),d=o*((1-a/4-3*a*a/64-5*a*a*a/256)*M-(3*a/8+3*a*a/32+45*a*a*a/1024)*Math.sin(2*M)+(15*a*a/256+45*a*a*a/1024)*Math.sin(4*M)-35*a*a*a/3072*Math.sin(6*M));var m=i*u*(l+(1-f+v)*l*l*l/6+(5-18*f+f*f+72*v-58*h)*l*l*l*l*l/120)+5e5,k=i*(d+u*Math.tan(M)*(l*l/2+(5-f+9*v+4*v*v)*l*l*l*l/24+(61-58*f+f*f+600*v-330*h)*l*l*l*l*l*l/720));return e<0&&(k+=1e7),{northing:Math.round(k),easting:Math.round(m),zoneNumber:p,zoneLetter:c(e)}}function i(t){var e=t.northing,r=t.easting,n=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var c=.9996,s=6378137,h=.00669438,u=void 0,f=(1-Math.sqrt(1-h))/(1+Math.sqrt(1-h)),v=void 0,l=void 0,d=void 0,M=void 0,b=void 0,g=void 0,p=void 0,m=void 0,k=void 0,A=r-5e5,z=e;n<"N"&&(z-=1e7),p=6*(a-1)-180+3,u=h/(1-h),g=z/c,m=g/(s*(1-h/4-3*h*h/64-5*h*h*h/256)),k=m+(3*f/2-27*f*f*f/32)*Math.sin(2*m)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*m)+151*f*f*f/96*Math.sin(6*m),v=s/Math.sqrt(1-h*Math.sin(k)*Math.sin(k)),l=Math.tan(k)*Math.tan(k),d=u*Math.cos(k)*Math.cos(k),M=s*(1-h)/Math.pow(1-h*Math.sin(k)*Math.sin(k),1.5),b=A/(v*c);var C=k-v*Math.tan(k)/M*(b*b/2-(5+3*l+10*d-4*d*d-9*u)*b*b*b*b/24+(61+90*l+298*d+45*l*l-252*u-3*d*d)*b*b*b*b*b*b/720);C=o(C);var w=(b-(1+2*l+d)*b*b*b/6+(5-2*d+28*l-3*d*d+8*u+24*l*l)*b*b*b*b*b/120)/Math.cos(k);w=p+o(w);var P=void 0;if(t.accuracy){var S=i({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});P={top:S.lat,right:S.lon,bottom:C,left:w}}else P={lat:C,lon:w};return P}function c(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function s(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function h(t,e,r){var n=u(r);return f(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}function u(t){var e=t%b;return 0===e&&(e=b),e}function f(t,e,r){var n=r-1,o=g.charCodeAt(n),a=p.charCodeAt(n),i=o+t-1,c=a+e,s=!1;return i>C&&(i=i-C+m-1,s=!0),(i===k||o<k&&i>k||(i>k||o<k)&&s)&&i++,(i===A||o<A&&i>A||(i>A||o<A)&&s)&&(i++,i===k&&i++),i>C&&(i=i-C+m-1),c>z?(c=c-z+m-1,s=!0):s=!1,(c===k||a<k&&c>k||(c>k||a<k)&&s)&&c++,(c===A||a<A&&c>A||(c>A||a<A)&&s)&&(c++,c===k&&c++),c>z&&(c=c-z+m-1),String.fromCharCode(i)+String.fromCharCode(c)}function v(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",o=void 0,a=0;!/[A-Z]/.test(o=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=o,a++}var i=parseInt(n,10);if(0===a||a+3>e)throw"MGRSPoint bad conversion from: "+t;var c=t.charAt(a++);if(c<="A"||"B"===c||"Y"===c||c>="Z"||"I"===c||"O"===c)throw"MGRSPoint zone letter "+c+" not handled: "+t;r=t.substring(a,a+=2);for(var s=u(i),h=l(r.charAt(0),s),f=d(r.charAt(1),s);f<M(c);)f+=2e6;var v=e-a;if(v%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var b=v/2,g=0,p=0,m=void 0,k=void 0,A=void 0,z=void 0,C=void 0;return b>0&&(m=1e5/Math.pow(10,b),k=t.substring(a,a+b),g=parseFloat(k)*m,A=t.substring(a+b),p=parseFloat(A)*m),z=g+h,C=p+f,{easting:z,northing:C,zoneLetter:c,zoneNumber:i,accuracy:m}}function l(t,e){for(var r=g.charCodeAt(e-1),n=1e5,o=!1;r!==t.charCodeAt(0);){if(r++,r===k&&r++,r===A&&r++,r>C){if(o)throw"Bad character: "+t;r=m,o=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=p.charCodeAt(e-1),n=0,o=!1;r!==t.charCodeAt(0);){if(r++,r===k&&r++,r===A&&r++,r>z){if(o)throw"Bad character: "+t;r=m,o=!0}n+=1e5}return n}function M(t){var e=void 0;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var b=6,g="AJSAJS",p="AFAFAF",m=65,k=73,A=79,z=86,C=90;return{geographicToMgrs:t,mgrsToGeographic:e,toPoint:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=angular.module("mgrsConverter",[]).factory("mgrsConverter",n)},function(t,e,r){t.exports=r(0)}]);